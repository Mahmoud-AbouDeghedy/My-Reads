{"version":3,"sources":["BooksAPI.js","Components/Book.js","Components/Shelf.js","Components/MainPage.js","Components/SearchPage.js","App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","update","book","shelf","fetch","concat","id","method","_objectSpread","Content-Type","body","JSON","stringify","then","res","json","Book","_Component","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","apply","arguments","_inherits","_createClass","key","value","_this","React","createElement","className","style","width","height","backgroundImage","props","imageLinks","thumbnail","onChange","e","updateShelf","target","disabled","title","authors","Component","Shelf","name","books","map","b","MainPage","filter","Link","to","SearchPage","_getPrototypeOf2","_len","length","args","Array","_key","call","state","resultedBooks","searchText","query","_this2","setState","data","error","_this3","type","placeholder","BooksApp","_React$Component","BooksAPI","showBooks","Route","exact","path","render","ReactDOM","BrowserRouter","App","document","getElementById"],"mappings":"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","file":"static/js/main.1357f0c0.chunk.js","sourcesContent":["export const api = \"https://reactnd-books-api.udacity.com\";\r\n\r\n// Generate a unique token for storing your bookshelf data on the backend server.\r\nlet token = localStorage.token;\r\nif (!token)\r\n  token = localStorage.token = Math.random()\r\n    .toString(36)\r\n    .substr(-8);\r\n\r\nconst headers = {\r\n  Accept: \"application/json\",\r\n  Authorization: token,\r\n};\r\n\r\nexport const get = (bookId) =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n    .then((res) => res.json())\r\n    .then((data) => data.book);\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers })\r\n    .then((res) => res.json())\r\n    .then((data) => data.books);\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      ...headers,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ shelf }),\r\n  }).then((res) => res.json());\r\n\r\nexport const search = (query) =>\r\n  fetch(`${api}/search`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      ...headers,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ query }),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((data) => data.books);\r\n","import React, { Component } from \"react\";\r\n\r\nexport default class Book extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"book\">\r\n          <div className=\"book-top\">\r\n            <div\r\n              className=\"book-cover\"\r\n              style={{\r\n                width: 128,\r\n                height: 193,\r\n                backgroundImage: `url(\"${\r\n                  this.props.book.imageLinks.thumbnail\r\n                }\")`,\r\n              }}\r\n            />\r\n            <div className=\"book-shelf-changer\">\r\n              <select\r\n                onChange={(e) =>\r\n                  this.props.updateShelf(this.props.book, e.target.value)\r\n                }\r\n                value={this.props.shelf}\r\n              >\r\n                <option value=\"move\" disabled>\r\n                  Move to...\r\n                </option>\r\n                <option value=\"currentlyReading\">Currently Reading</option>\r\n                <option value=\"wantToRead\">Want to Read</option>\r\n                <option value=\"read\">Read</option>\r\n                <option value=\"none\">None</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"book-title\">{this.props.book.title}</div>\r\n          <div className=\"book-authors\">{this.props.book.authors}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Book from \"./Book\";\r\nexport default class Shelf extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"bookshelf\">\r\n          <h2 className=\"bookshelf-title\">{this.props.name}</h2>\r\n          <div className=\"bookshelf-books\">\r\n            <ol className=\"books-grid\">\r\n              {this.props.books.map((b) => (\r\n                <Book\r\n                  key={b.id}\r\n                  book={b}\r\n                  updateShelf={this.props.updateShelf}\r\n                  shelf={this.props.shelf}\r\n                />\r\n              ))}\r\n            </ol>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Shelf from \"./Shelf\";\r\nimport { Link } from \"react-router-dom\";\r\nexport default class MainPage extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"list-books\">\r\n          <div className=\"list-books-title\">\r\n            <h1>MyReads</h1>\r\n          </div>\r\n          <div className=\"list-books-content\">\r\n            <div>\r\n              <Shelf\r\n                name=\"Currently Reading\"\r\n                books={this.props.books.filter(\r\n                  (b) => b.shelf === \"currentlyReading\"\r\n                )}\r\n                updateShelf={this.props.updateShelf}\r\n                shelf=\"currentlyReading\"\r\n              />\r\n              <Shelf\r\n                name=\"Want to Read\"\r\n                books={this.props.books.filter((b) => b.shelf === \"wantToRead\")}\r\n                updateShelf={this.props.updateShelf}\r\n                shelf=\"wantToRead\"\r\n              />\r\n              <Shelf\r\n                name=\"Read\"\r\n                books={this.props.books.filter((b) => b.shelf === \"read\")}\r\n                updateShelf={this.props.updateShelf}\r\n                shelf=\"read\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"open-search\">\r\n            <Link to=\"/search\">Add a book</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport * as BooksAPI from \"../BooksAPI\";\r\nimport Book from \"./Book\";\r\nexport default class SearchPage extends Component {\r\n  state = {\r\n    resultedBooks: [],\r\n    searchText: \"\",\r\n  };\r\n  update(value) {\r\n    this.setState({ searchText: value });\r\n    if (value)\r\n      BooksAPI.search(value).then((res) =>\r\n        this.setState({ resultedBooks: res.error ? [] : res })\r\n      );\r\n    else this.setState({ resultedBooks: [] });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"search-books\">\r\n        <div className=\"search-books-bar\">\r\n          <Link className=\"close-search\" to=\"/\">\r\n            Close\r\n          </Link>\r\n          <div className=\"search-books-input-wrapper\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search by title or author\"\r\n              onChange={(e) => this.update(e.target.value)}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"search-books-results\">\r\n          <ol className=\"books-grid\">\r\n            {this.state.resultedBooks.map((b) => {\r\n              let shelf = \"none\";\r\n              this.props.books.map(\r\n                (book) => b.id === book.id && (shelf = book.shelf)\r\n              );\r\n\r\n              return (\r\n                <li key={b.id}>\r\n                  <Book\r\n                    book={b}\r\n                    updateShelf={this.props.updateShelf}\r\n                    shelf={shelf}\r\n                  />\r\n                </li>\r\n              );\r\n            })}\r\n          </ol>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport * as BooksAPI from \"./BooksAPI\";\r\nimport \"./App.css\";\r\nimport MainPage from \"./Components/MainPage\";\r\nimport SearchPage from \"./Components/SearchPage\";\r\nimport { Route } from \"react-router-dom\";\r\nclass BooksApp extends React.Component {\r\n  state = {\r\n    books: [],\r\n  };\r\n  componentDidMount() {\r\n    this.showBooks();\r\n  }\r\n  showBooks() {\r\n    BooksAPI.getAll().then((books) => {\r\n      this.setState({ books });\r\n    });\r\n  }\r\n  updateShelf = (book, shelf) => {\r\n    BooksAPI.update(book, shelf).then(() => {\r\n      this.showBooks();\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"app\">\r\n        <Route\r\n          exact\r\n          path=\"/\"\r\n          render={() => (\r\n            <MainPage books={this.state.books} updateShelf={this.updateShelf} />\r\n          )}\r\n        />\r\n        <Route\r\n          path=\"/search\"\r\n          render={() => (\r\n            <SearchPage\r\n              books={this.state.books}\r\n              updateShelf={this.updateShelf}\r\n            />\r\n          )}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BooksApp;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}